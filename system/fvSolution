FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      fvSolution;
}

// -------------------------------------------------------------------------
// User-adjustable controls (flat, no nesting)
// -------------------------------------------------------------------------


// --- Solver tolerances (smaller = more accurate, larger = faster/looser)
pTol        1e-7;   // pressure solver tolerance
UTol        1e-8;   // velocity solver tolerance
kTol        1e-8;   // turbulence kinetic energy tolerance
omegaTol    1e-8;   // specific dissipation rate tolerance

// --- Relaxation factors (lower = more stable, higher = faster convergence riskier)
pRelax      0.3;    // pressure relaxation factor
URelax      0.7;    // velocity relaxation factor
kRelax      0.7;    // turbulence k relaxation factor
omegaRelax  0.7;    // turbulence omega relaxation factor

// --- Residual targets (stopping/convergence criteria)
pTarget     1e-4;   // pressure residual target
UTarget     1e-5;   // velocity residual target
kTarget     1e-5;   // k residual target
omegaTarget 1e-5;   // omega residual target

// -------------------------------------------------------------------------
// Solvers
// -------------------------------------------------------------------------

solvers
{
    p
    {
        solver          GAMG;
        smoother        GaussSeidel;
        tolerance       $pTol;
        relTol          0.01;
    }

    U
    {
        solver          smoothSolver;
        smoother        symGaussSeidel;
        tolerance       $UTol;
        relTol          0.1;
    }

    k
    {
        solver          smoothSolver;
        smoother        symGaussSeidel;
        tolerance       $kTol;
        relTol          0.1;
    }

    omega
    {
        solver          smoothSolver;
        smoother        symGaussSeidel;
        tolerance       $omegaTol;
        relTol          0.1;
    }
}

// -------------------------------------------------------------------------
// SIMPLE controls
// -------------------------------------------------------------------------

SIMPLE
{
    nNonOrthogonalCorrectors 0;
    consistent yes;

    residualControl
    {
        p           $pTarget;
        U           $UTarget;
        k           $kTarget;
        omega       $omegaTarget;
    }
}

relaxationFactors
{
    fields
    {
        p       $pRelax;
    }

    equations
    {
        U       $URelax;
        k       $kRelax;
        omega   $omegaRelax;
    }
}

cache
{
    grad(U);
}
